import{i as q,a as I}from"./vendor-CZmbFGfX.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".nav-link");let t=window.location.pathname.split("/").pop();t!=="index.html"&&t!=="favorites.html"&&(t="index.html"),e.forEach(n=>{n.getAttribute("href")===t&&n.classList.add("active")})});const m=document.querySelector(".js-header"),S=document.querySelector("main"),L="is-scrolling",P=e=>{e?m.classList.add(L):m.classList.remove(L)},M=e=>{e?S.style.marginTop=`${m.offsetHeight}px`:S.style.marginTop=0},b=()=>{let e=window.scrollY>m.offsetTop;P(e),M(e)};document.addEventListener("DOMContentLoaded",()=>{b(),document.addEventListener("scroll",b)});async function N(){try{return await(await fetch("https://your-energy.b.goit.study/api/quote")).json()}catch(e){return console.error("Error fetching the quote:",e),null}}function $(e){const t=new Date().toISOString().split("T")[0];localStorage.setItem("dailyQuote",JSON.stringify({quote:e,date:t}))}function A(){const e=localStorage.getItem("dailyQuote");return e?JSON.parse(e):null}async function B(){const e=A(),t=new Date().toISOString().split("T")[0];if(e&&e.date===t)return e.quote;{const n=await N();return n?($(n),n):e?e.quote:null}}async function D(){const e=await B();if(e){const t=e.quote,n=e.author;document.querySelector(".quote").textContent=t,document.querySelector(".quote-author").textContent=n}}D();const w=(e,t,n,r)=>{q.show({message:e,drag:!0,close:!1,timeout:5e3,position:"bottomRight",messageColor:"#2a2a2a",closeOnClick:!0,animateInside:!0,backgroundColor:t??"#fca664",title:n??""})},c="https://your-energy.b.goit.study/api",l=async(e,t,n)=>{const o=await fetch(e,{headers:{"Content-type":"application/json"},method:t,body:n});if(!o.ok)throw new Error(`Error: status: ${o.status}, ${o.statusText}`);return o.json()},R={async getExercises(e){const t=new URLSearchParams(e),n=`${c}/exercises?${t}`;return await l(n)},async getExercisesId(e){const t=`${c}/exercises/${e}`;return await l(t)},async editExercisesIdRating(e,t){const n="PATCH",r=`${c}/exercises/${e}/rating`,s=JSON.stringify(t);return await l(r,n,s)},async getExercisesFilter(e){const t=new URLSearchParams(e),n=`${c}/filters?${t}`;return await l(n)},async getExercisesQuote(){const e=`${c}/quote`;return await l(e)},async addSubscription(e){const t="POST",n=`${c}/subscription`,r=JSON.stringify(e);return await l(n,t,r)}},x=I.create({baseURL:c,headers:{"Content-type":"application/json"}}),h=document.querySelector(".subscribe-form");h.addEventListener("submit",F);async function F(e){e.preventDefault();const t=e.target.elements.email.value;try{await R.addSubscription({email:t}),w("You have subscribed ðŸ¥³","#f4f4f4","Congratulations!")}catch{w("Subscription already exists ðŸ˜Š","#c6cdd1")}finally{e.target.reset(),localStorage.removeItem("subscribe-form-email")}}const f={email:""},Q=e=>{const t=JSON.parse(localStorage.getItem("subscribe-form-email"));if(t!==null)for(const n in t)t.hasOwnProperty(n)&&(e.elements[n].value=t[n],f[n]=t[n])};Q(h);h.addEventListener("input",e=>{const t=e.target.name,n=e.target.value.trim();f[t]=n,localStorage.setItem("subscribe-form-email",JSON.stringify(f))});(()=>{let e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),n=document.querySelector(".js-close-menu"),r=[...document.getElementsByClassName("mobile-menu-link")],s=()=>{let a=t.getAttribute("aria-expanded")==="true";t.setAttribute("aria-expanded",!a),e.classList.toggle("is-open"),document.body.style.overflow=a?"auto":"hidden"};const o=()=>{window.matchMedia("(max-width: 767px)").matches?(t.addEventListener("click",s),n.addEventListener("click",s),r.forEach(a=>{a.addEventListener("click",s)})):(t.removeEventListener("click",s),n.removeEventListener("click",s),r.forEach(a=>{a.removeEventListener("click",s)}),e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1))};window.addEventListener("resize",o),o()})();const d={MUSCLES:"Muscles",BODY_PARTS:"Body parts",EQUIPMENT:"Equipment"},g={EXERCISE:"exercises",CATEGORY:"categories"},T=768;document.addEventListener("DOMContentLoaded",async()=>{const{categories:e,page:t,totalPages:n}=await v(d.MUSCLES);E(e),u(g.CATEGORY,t,n,d.MUSCLES),U(),k()});const U=()=>{const e=document.querySelectorAll(".filter-btn");e.forEach(t=>{t.addEventListener("click",async()=>{e.forEach(a=>a.classList.remove("active")),t.classList.add("active");const n=t.getAttribute("data-filter"),{categories:r,page:s,totalPages:o}=await v(n);E(r),u(g.CATEGORY,s,o,n)})})},k=()=>{const e=document.getElementById("search-form"),t=document.getElementById("search-input");e.addEventListener("submit",function(n){n.preventDefault(),t.value.trim();const r=document.querySelector(".filter-btn.active");if(!r){console.error("No active filter button found.");return}r.getAttribute("data-filter")})},v=async(e,t=1)=>{const n=window.innerWidth<T?9:12;try{const s=(await x.get("/filters",{params:{filter:e,page:t,limit:n}})).data;return s.results?{categories:s.results,page:Number(s.page),totalPages:Number(s.totalPages)}:{categories:[],page:1,totalPages:1}}catch(r){return console.error("Error fetching categories:",r),{categories:[],page:1,totalPages:1}}},C=async(e,t,n=1)=>{const r=window.innerWidth<T?8:10;try{const o=(await x.get("/exercises",{params:{page:n,limit:r,...e===d.MUSCLES&&{muscles:t},...e===d.BODY_PARTS&&{bodypart:t},...e===d.EQUIPMENT&&{equipment:t}}})).data;return o.results?{exercises:o.results,page:Number(o.page),totalPages:Number(o.totalPages)}:{exercises:[],page:1,totalPages:1}}catch(s){return console.error("Error fetching categories:",s),{exercises:[],page:1,totalPages:1}}},E=e=>{const t=document.querySelector(".exercises-grid");if(t.innerHTML="",e.length===0){t.innerHTML="<p>No categories found.</p>";return}const n=document.createDocumentFragment();e.forEach(r=>{const s=document.createElement("div");s.classList.add("category-card"),s.innerHTML=`
      <img src="${r.imgURL}" alt="${r.name}" />
      <h3>${r.name}</h3>
      <p>${r.filter}</p>
    `,s.addEventListener("click",async()=>{const{exercises:o,page:a,totalPages:i}=await C(r.filter,r.name);O(o),u(g.EXERCISE,a,i,r.filter)}),n.appendChild(s)}),t.appendChild(n)},O=e=>{const t=document.querySelector(".exercises-grid");if(t.innerHTML="",e.length===0){t.innerHTML="<p>No exercises found.</p>";return}const n=e.map(({bodyPart:r,burnedCalories:s,target:o,name:a,rating:i})=>`
    <div class="exercise-card">
      <div class="exercise-card-header">
        <div class="label">WORKOUT</div>
        <div class="rating">
          <span>
            ${i}
          </span>
          <svg class="icon-star">
            <use href="./img/icons/icons.svg#icon-star"></use>
          </svg>
        </div>
        <button class="start-btn">
          Start
          <svg class="icon-arrow">
            <use href="./img/icons/icons.svg#icon-arrow-start"></use>
          </svg>
        </button>
      </div>
      <div class="title-wrapper">
        <div class="icon-run-exercises">
          <svg class="icon-run">
            <use href="./img/icons/icons.svg#icon-run"></use>
          </svg>
        </div>
        <div class="title">${a}</div>
      </div>
      <div class="details">
        <div class="details-item">
          Burned calories: <span>${s}</span>
        </div>
        <div class="details-item">
          Body part: <span>${r}</span>
        </div>
        <div class="details-item">
          Target:<span>${o}</span>
        </div>
      </div>
    </div>
  `).join(" ");t.insertAdjacentHTML("afterbegin",n)},u=(e,t,n,r)=>{const s=document.getElementById("pagination");if(s.innerHTML="",n<=1)return;const o=document.createDocumentFragment();console.log("totalPages",n);for(let a=1;a<=n;a++){const i=document.createElement("div");i.innerText=a,i.className=a===t?"page current":"page",i.addEventListener("click",async()=>{if(e===g.CATEGORY){const{categories:p}=await v(r,a);E(p),u(e,a,n,r)}else{const{exercises:p}=await C(r,null,a);O(p),u(e,a,n,r)}}),o.appendChild(i)}s.appendChild(o)},H=()=>{document.querySelector(".preloader").classList.add("preloader--hidden")};document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{H()},1e3)});let y=document.getElementById("myBtn");document.getElementsByClassName(".footer");y.onclick=function(){Y()};window.onscroll=function(){j()};function j(){document.body.scrollTop>20||document.documentElement.scrollTop>20?y.style.display="block":y.style.display="none"}function Y(){document.body.scrollTop=0,document.documentElement.scrollTop=0}
//# sourceMappingURL=main-DnyCCHI1.js.map
