import{i as N,a as A}from"./vendor-CZmbFGfX.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".nav-link");let t=window.location.pathname.split("/").pop();t!=="index.html"&&t!=="favorites.html"&&(t="index.html"),e.forEach(s=>{s.getAttribute("href")===t&&s.classList.add("active")})});const p=document.querySelector(".js-header"),x=document.querySelector("main"),C="is-scrolling",R=e=>{e?p.classList.add(C):p.classList.remove(C)},D=e=>{e?x.style.marginTop=`${p.offsetHeight}px`:x.style.marginTop=0},T=()=>{let e=window.scrollY>p.offsetTop;R(e),D(e)};document.addEventListener("DOMContentLoaded",()=>{T(),document.addEventListener("scroll",T)});async function B(){try{return await(await fetch("https://your-energy.b.goit.study/api/quote")).json()}catch(e){return console.error("Error fetching the quote:",e),null}}function F(e){const t=new Date().toISOString().split("T")[0];localStorage.setItem("dailyQuote",JSON.stringify({quote:e,date:t}))}function H(){const e=localStorage.getItem("dailyQuote");return e?JSON.parse(e):null}async function Q(){const e=H(),t=new Date().toISOString().split("T")[0];if(e&&e.date===t)return e.quote;{const s=await B();return s?(F(s),s):e?e.quote:null}}async function U(){const e=await Q();if(e){const t=e.quote,s=e.author;document.querySelector(".quote").textContent=t,document.querySelector(".quote-author").textContent=s}}U();const O=(e,t,s,r)=>{N.show({message:e,drag:!0,close:!1,timeout:5e3,position:"bottomRight",messageColor:"#2a2a2a",closeOnClick:!0,animateInside:!0,backgroundColor:t??"#fca664",title:s??""})},c="https://your-energy.b.goit.study/api",l=async(e,t,s)=>{const o=await fetch(e,{headers:{"Content-type":"application/json"},method:t,body:s});if(!o.ok)throw new Error(`Error: status: ${o.status}, ${o.statusText}`);return o.json()},k={async getExercises(e){const t=new URLSearchParams(e),s=`${c}/exercises?${t}`;return await l(s)},async getExercisesId(e){const t=`${c}/exercises/${e}`;return await l(t)},async editExercisesIdRating(e,t){const s="PATCH",r=`${c}/exercises/${e}/rating`,n=JSON.stringify(t);return await l(r,s,n)},async getExercisesFilter(e){const t=new URLSearchParams(e),s=`${c}/filters?${t}`;return await l(s)},async getExercisesQuote(){const e=`${c}/quote`;return await l(e)},async addSubscription(e){const t="POST",s=`${c}/subscription`,r=JSON.stringify(e);return await l(s,t,r)}},I=A.create({baseURL:c,headers:{"Content-type":"application/json"}}),v=document.querySelector(".subscribe-form");v.addEventListener("submit",j);async function j(e){e.preventDefault();const t=e.target.elements.email.value;try{await k.addSubscription({email:t}),O("You have subscribed ðŸ¥³","#f4f4f4","Congratulations!")}catch{O("Subscription already exists ðŸ˜Š","#c6cdd1")}finally{e.target.reset(),localStorage.removeItem("subscribe-form-email")}}const f={email:""},Y=e=>{const t=JSON.parse(localStorage.getItem("subscribe-form-email"));if(t!==null)for(const s in t)t.hasOwnProperty(s)&&(e.elements[s].value=t[s],f[s]=t[s])};Y(v);v.addEventListener("input",e=>{const t=e.target.name,s=e.target.value.trim();f[t]=s,localStorage.setItem("subscribe-form-email",JSON.stringify(f))});(()=>{let e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),s=document.querySelector(".js-close-menu"),r=[...document.getElementsByClassName("mobile-menu-link")],n=()=>{let a=t.getAttribute("aria-expanded")==="true";t.setAttribute("aria-expanded",!a),e.classList.toggle("is-open"),document.body.style.overflow=a?"auto":"hidden"};const o=()=>{window.matchMedia("(max-width: 767px)").matches?(t.addEventListener("click",n),s.addEventListener("click",n),r.forEach(a=>{a.addEventListener("click",n)})):(t.removeEventListener("click",n),s.removeEventListener("click",n),r.forEach(a=>{a.removeEventListener("click",n)}),e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1))};window.addEventListener("resize",o),o()})();const d={MUSCLES:"Muscles",BODY_PARTS:"Body parts",EQUIPMENT:"Equipment"},m={EXERCISE:"exercises",CATEGORY:"categories"},P=768;let y=d.MUSCLES,E=null;document.addEventListener("DOMContentLoaded",async()=>{const{categories:e,page:t,totalPages:s}=await S(d.MUSCLES);b(e),u(m.CATEGORY,t,s,d.MUSCLES),J()});const J=()=>{const e=document.querySelectorAll(".filter-btn");e.forEach(t=>{t.addEventListener("click",async()=>{e.forEach(a=>a.classList.remove("active")),t.classList.add("active");const s=t.getAttribute("data-filter"),{categories:r,page:n,totalPages:o}=await S(s);b(r),u(m.CATEGORY,n,o,s)})})},S=async(e,t=1)=>{const s=window.innerWidth<P?9:12;try{const n=(await I.get("/filters",{params:{filter:e,page:t,limit:s}})).data;return n.results?{categories:n.results,page:Number(n.page),totalPages:Number(n.totalPages)}:{categories:[],page:1,totalPages:1}}catch(r){return console.error("Error fetching categories:",r),{categories:[],page:1,totalPages:1}}},L=async(e,t,s=1,r=null)=>{const n=window.innerWidth<P?8:10;try{const a=(await I.get("/exercises",{params:{page:s,limit:n,...e===d.MUSCLES&&{muscles:t},...e===d.BODY_PARTS&&{bodypart:t},...e===d.EQUIPMENT&&{equipment:t},...r&&{keyword:r}}})).data;return a.results?{exercises:a.results,page:Number(a.page),totalPages:Number(a.totalPages)}:{exercises:[],page:1,totalPages:1}}catch(o){return console.error("Error fetching categories:",o),{exercises:[],page:1,totalPages:1}}},b=e=>{const t=document.querySelector(".exercises-grid");if(t.innerHTML="",M(!1),$(!1),e.length===0){t.innerHTML="<p>No categories found.</p>";return}const s=document.createDocumentFragment();e.forEach(r=>{const n=document.createElement("div");n.classList.add("category-card"),n.innerHTML=`
      <img src="${r.imgURL}" alt="${r.name}" />
      <h3>${r.name}</h3>
      <p>${r.filter}</p>
    `,n.addEventListener("click",async()=>{const{exercises:o,page:a,totalPages:i}=await L(r.filter,r.name);y=r.filter,E=r.name,w(o),u(m.EXERCISE,a,i,r.filter)}),s.appendChild(n)}),t.appendChild(s)},w=e=>{const t=document.querySelector(".exercises-grid");if(t.innerHTML="",M(!0),$(!0,E),e.length===0){t.innerHTML="<p>No exercises found.</p>";return}const s=e.map(({bodyPart:r,burnedCalories:n,target:o,name:a,rating:i})=>`
    <div class="exercise-card">
      <div class="exercise-card-header">
        <div class="label">WORKOUT</div>
        <div class="rating">
          <span>
            ${i}
          </span>
          <svg class="icon-star">
            <use href="./img/icons/icons.svg#icon-star"></use>
          </svg>
        </div>
        <button class="start-btn">
          Start
          <svg class="icon-arrow">
            <use href="./img/icons/icons.svg#icon-arrow-start"></use>
          </svg>
        </button>
      </div>
      <div class="title-wrapper">
        <div class="icon-run-exercises">
          <svg class="icon-run">
            <use href="./img/icons/icons.svg#icon-run"></use>
          </svg>
        </div>
        <div class="title">${a}</div>
      </div>
      <div class="details">
        <div class="details-item">
          Burned calories: <span>${n}</span>
        </div>
        <div class="details-item">
          Body part: <span>${r}</span>
        </div>
        <div class="details-item">
          Target:<span>${o}</span>
        </div>
      </div>
    </div>
  `).join(" ");t.insertAdjacentHTML("afterbegin",s)},u=(e,t,s,r)=>{const n=document.getElementById("pagination");if(n.innerHTML="",s<=1)return;const o=document.createDocumentFragment();for(let a=1;a<=s;a++){const i=document.createElement("div");i.innerText=a,i.className=a===t?"page current":"page",i.addEventListener("click",async()=>{if(e===m.CATEGORY){const{categories:g}=await S(r,a);b(g),u(e,a,s,r)}else{const{exercises:g}=await L(r,null,a);w(g),u(e,a,s,r)}}),o.appendChild(i)}n.appendChild(o)},M=e=>{const t=document.getElementById("search-form");t.style.display=e?"block":"none",e?t.addEventListener("submit",q):t.removeEventListener("submit",q)},q=async e=>{e.preventDefault();const t=document.getElementById("search-input"),s=t.value.trim();if(t.value="",s==="")return;const{exercises:r}=await L(y,E,1,s);w(r),u(m.EXERCISE,1,1,y)},$=(e,t="")=>{const s=document.querySelector(".exercises-header-span"),r=document.querySelector(".exercises-subcategory");s.style.display=e?"flex":"none",r.textContent=t},_=()=>{document.querySelector(".preloader").classList.add("preloader--hidden")};document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{_()},1e3)});let h=document.getElementById("myBtn");document.getElementsByClassName(".footer");h.onclick=function(){W()};window.onscroll=function(){G()};function G(){document.body.scrollTop>20||document.documentElement.scrollTop>20?h.style.display="block":h.style.display="none"}function W(){document.body.scrollTop=0,document.documentElement.scrollTop=0}
//# sourceMappingURL=main-BtZIWQ8t.js.map
