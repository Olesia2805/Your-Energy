import{i as Q,a as J}from"./vendor-BRPE7r0H.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".nav-link");let t=window.location.pathname.split("/").pop();t!=="index.html"&&t!=="favorites.html"&&(t="index.html"),e.forEach(s=>{s.getAttribute("href")===t&&s.classList.add("active")})});const h=document.querySelector(".js-header"),O=document.querySelector("main"),k="is-scrolling",Y=e=>{e?h.classList.add(k):h.classList.remove(k)},G=e=>{e?O.style.marginTop=`${h.offsetHeight}px`:O.style.marginTop=0},N=()=>{let e=window.scrollY>h.offsetTop;Y(e),G(e)};document.addEventListener("DOMContentLoaded",()=>{N(),document.addEventListener("scroll",N)});const i=(e,t,s,n)=>{Q.show({message:e,drag:!0,close:!1,timeout:5e3,position:"bottomRight",messageColor:"#2a2a2a",closeOnClick:!0,animateInside:!0,backgroundColor:s??"#f4f4f4",title:t??""})};async function W(){try{return await(await fetch("https://your-energy.b.goit.study/api/quote")).json()}catch{return i("Error fetching the quote:","Error ❌"),null}}function z(e){const t=new Date().toISOString().split("T")[0];localStorage.setItem("dailyQuote",JSON.stringify({quote:e,date:t}))}function X(){const e=localStorage.getItem("dailyQuote");return e?JSON.parse(e):null}async function K(){const e=X(),t=new Date().toISOString().split("T")[0];if(e&&e.date===t)return e.quote;{const s=await W();return s?(z(s),s):e?e.quote:null}}async function V(){const e=await K();if(e){const t=e.quote,s=e.author;document.querySelector(".quote").textContent=t,document.querySelector(".quote-author").textContent=s}}V();const w=()=>JSON.parse(localStorage.getItem("favorites"))||[];function Z(e){if(!e._id){i("Exercise ID is missing.","Error ❌");return}const t=w();t.find(s=>s._id===e._id)?i("This exercise is already in your favorites.","Error ❌"):(t.push(e),localStorage.setItem("favorites",JSON.stringify(t)),i("Exercise added to favorites!","Success ✅"))}function A(e,t){if(!e){i("Exercise ID is missing.","Error ❌");return}const s=w();if(!s.find(n=>n._id===e))i("This exercise is not in your favorites.","Error ❌");else{const n=s.filter(r=>r._id!==e);localStorage.setItem("favorites",JSON.stringify(n)),i("Exercise removed from favorites!","Success ✅"),t&&t()}}const d="https://your-energy.b.goit.study/api",u=async(e,t,s)=>{const o=await fetch(e,{headers:{"Content-type":"application/json"},method:t,body:s});if(!o.ok)throw new Error(`Error: status: ${o.status}, ${o.statusText}`);return o.json()},ee={async getExercises(e){const t=new URLSearchParams(e),s=`${d}/exercises?${t}`;return await u(s)},async getExercisesId(e){const t=`${d}/exercises/${e}`;return await u(t)},async editExercisesIdRating(e,t){const s="PATCH",n=`${d}/exercises/${e}/rating`,r=JSON.stringify(t);return await u(n,s,r)},async getExercisesFilter(e){const t=new URLSearchParams(e),s=`${d}/filters?${t}`;return await u(s)},async getExercisesQuote(){const e=`${d}/quote`;return await u(e)},async addSubscription(e){const t="POST",s=`${d}/subscription`,n=JSON.stringify(e);return await u(s,t,n)}},F=J.create({baseURL:d,headers:{"Content-type":"application/json"}}),f="/project-ilurgym2/assets/icons-BUPRkBTg.svg",m={MUSCLES:"Muscles",BODY_PARTS:"Body parts",EQUIPMENT:"Equipment"},p={EXERCISE:"exercises",CATEGORY:"categories"},D=768;let x=m.MUSCLES,C=null;document.addEventListener("DOMContentLoaded",async()=>{if(document.getElementById("favorites"))I();else{const{categories:t,page:s,totalPages:n}=await q(m.MUSCLES);$(t),g(p.CATEGORY,s,n,m.MUSCLES),te()}});const te=()=>{const e=document.querySelectorAll(".filter-btn");e.forEach(t=>{t.addEventListener("click",async()=>{e.forEach(a=>a.classList.remove("active")),t.classList.add("active");const s=t.getAttribute("data-filter"),{categories:n,page:r,totalPages:o}=await q(s);$(n),g(p.CATEGORY,r,o,s)})})},q=async(e,t=1)=>{const s=window.innerWidth<D?9:12;try{const r=(await F.get("/filters",{params:{filter:e,page:t,limit:s}})).data;return r.results?{categories:r.results,page:Number(r.page),totalPages:Number(r.totalPages)}:{categories:[],page:1,totalPages:1}}catch(n){return i(`Error fetching categories: ${n}`,"Error ❌"),{categories:[],page:1,totalPages:1}}},T=async(e,t,s=1,n=null)=>{const r=window.innerWidth<D?8:10;try{const a=(await F.get("/exercises",{params:{page:s,limit:r,...e===m.MUSCLES&&{muscles:t},...e===m.BODY_PARTS&&{bodypart:t},...e===m.EQUIPMENT&&{equipment:t},...n&&{keyword:n}}})).data;return a.results?{exercises:a.results,page:Number(a.page),totalPages:Number(a.totalPages)}:{exercises:[],page:1,totalPages:1}}catch(o){return i(`Error fetching categories: ${o}`,"Error ❌"),{exercises:[],page:1,totalPages:1}}},$=e=>{const t=document.querySelector(".exercises-grid");if(!t)return;if(t.innerHTML="",R(!1),_(!1),e.length===0){t.innerHTML="<p>No categories found.</p>";return}const s=document.createDocumentFragment();e.forEach(n=>{const r=document.createElement("div");r.classList.add("category-card"),r.innerHTML=`
      <img src="${n.imgURL}" alt="${n.name}" />
      <h3>${n.name}</h3>
      <p>${n.filter}</p>
    `,r.addEventListener("click",async()=>{const{exercises:o,page:a,totalPages:c}=await T(n.filter,n.name);x=n.filter,C=n.name,S(o),g(p.EXERCISE,a,c,n.filter)}),s.appendChild(r)}),t.appendChild(s)},se=e=>`
  <div class="rating">
    <span>
      ${e}
    </span>
    <svg class="icon-star">
      <use href="${f}#icon-star"></use>
    </svg>
  </div>
`,re=e=>`
  <button class="trash-btn" data-id="${e}">
    <svg width="16px" height="16px">
      <use href="${f}#icon-trash"></use>
    </svg>
  </button>
`,S=(e,t=!1)=>{const s=document.querySelector(".exercises-grid");if(!s)return;if(s.innerHTML="",R(!0),_(!0,C),e.length===0){s.innerHTML="<p>No exercises found.</p>";return}const n=e.map(({bodyPart:r,burnedCalories:o,target:a,name:c,rating:l,_id:v})=>`
    <div class="exercise-card">
      <div class="exercise-card-header">
        <div class="label">WORKOUT</div>
        ${t?re(v):se(l)}
        <button class="start-btn" data-id="${v}">
          Start
          <svg class="icon-arrow">
            <use href="${f}#icon-arrow-start"></use>
          </svg>
        </button>
      </div>
      <div class="title-wrapper">
        <div class="icon-run-exercises">
          <svg class="icon-run">
            <use href="${f}#icon-run"></use>
          </svg>
        </div>
        <div class="title">${c}</div>
      </div>
      <div class="details">
        <div class="details-item">
          Burned calories: <span>${o}</span>
        </div>
        <div class="details-item">
          Body part: <span>${r}</span>
        </div>
        <div class="details-item">
          Target:<span>${a}</span>
        </div>
      </div>
    </div>
  `).join(" ");s.insertAdjacentHTML("afterbegin",n),document.querySelectorAll(".exercise-card .start-btn").forEach(r=>{const o=r.getAttribute("data-id");o?r.addEventListener("click",()=>{ne(o)}):i("Exercise ID is missing.","Error ❌")}),document.querySelectorAll(".trash-btn").forEach(r=>{const o=r.getAttribute("data-id");o?r.addEventListener("click",()=>{A(o,I)}):i("Exercise ID is missing.","Error ❌")})},g=(e,t,s,n)=>{const r=document.getElementById("pagination");if(!r||(r.innerHTML="",s<=1))return;const o=document.createDocumentFragment();for(let a=1;a<=s;a++){const c=document.createElement("div");c.innerText=a,c.className=a===t?"page current":"page",c.addEventListener("click",async()=>{if(e===p.CATEGORY){const{categories:l}=await q(n,a);$(l),g(e,a,s,n)}else{const{exercises:l}=await T(n,null,a);S(l),g(e,a,s,n)}}),o.appendChild(c)}r.appendChild(o)},I=()=>{const e=document.querySelector(".exercises-grid"),t=w();t.length>0?S(t,!0):e.innerHTML=`<p class="empty-favorites">It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.</p>`},R=e=>{const t=document.getElementById("search-form");t&&(t.style.display=e?"block":"none",e?t.addEventListener("submit",B):t.removeEventListener("submit",B))},B=async e=>{e.preventDefault();const t=document.getElementById("search-input"),s=t.value.trim();if(t.value="",s==="")return;const{exercises:n}=await T(x,C,1,s);S(n),g(p.EXERCISE,1,1,x)},_=(e,t="")=>{const s=document.querySelector(".exercises-header-span"),n=document.querySelector(".exercises-subcategory");!s||!n||(s.style.display=e?"flex":"none",n.textContent=t)};function ne(e,t){fetch(`https://your-energy.b.goit.study/api/exercises/${e}`).then(s=>{if(!s.ok)throw new Error("Failed to fetch exercise details.");return s.json()}).then(s=>{ae(s),ie()}).catch(s=>{i(`Error fetching exercise details: ${s}`,"Error ❌")})}const oe=e=>{const t=Math.round(e),s=Array(t).fill(`<svg class="icon-star"><use href="${f}#icon-star"></use></svg>`),n=Array(5-t).fill(`<svg class="icon-star"><use href="${f}#icon-star-empty"></use></svg>`);return`
    ${s.join("")}
    ${n.join("")}
  `};function ae(e){const t=document.querySelector(".modal-title"),s=document.querySelector(".modal-image"),n=document.querySelector(".modal-target"),r=document.querySelector(".modal-bodyPart"),o=document.querySelector(".modal-equipment"),a=document.querySelector(".modal-calories"),c=document.querySelector(".modal__description"),l=document.querySelector(".modal__block"),v=document.querySelector(".modal__rating");l.setAttribute("data-id",e._id),t.textContent=e.name||"No name available",s.src=e.gifUrl||"",s.alt=e.name||"Exercise image",n.textContent=e.target||"No target available",r.textContent=e.bodyPart||"No body part available",o.textContent=e.equipment||"No equipment available",a.textContent=`${e.burnedCalories||"N/A"}`,c.textContent=e.description||"No description available",v.innerHTML=`
    <span>${e.rating}</span>
    <span>${oe(e.rating)}</span>
  `;const H=document.querySelector(".modal__btns"),M=(JSON.parse(localStorage.getItem("favorites"))||[]).find(L=>L._id===e._id);H.innerHTML=`
    <button class="favorites-btn">${M?"Remove":"Add to favorites"}</button>
<!--    <button class="rating-btn">Give a rating</button>-->
  `;const U=document.querySelector(".favorites-btn"),j=document.getElementById("favorites");U.addEventListener("click",function(){if(M){const L=j?I:void 0;A(e._id,L)}else Z(e);b()})}function ie(){const e=document.querySelector(".modal");e?e.classList.add("is-visible"):i("Modal element is missing.","Error ❌")}function b(){const e=document.querySelector(".modal");e?e.classList.remove("is-visible"):i("Modal element is missing.","Error ❌")}const P=document.querySelector(".modal-close");P&&P.addEventListener("click",b);document.addEventListener("click",e=>{const t=document.querySelector(".modal"),s=document.querySelector(".modal__block");t&&s&&t.classList.contains("is-visible")&&!s.contains(e.target)&&b()});document.addEventListener("keydown",e=>{e.key==="Escape"&&b()});const y=document.querySelector(".subscribe-form");if(y!==null){y.addEventListener("submit",e);async function e(n){n.preventDefault();const r=n.target.elements.email.value;try{await ee.addSubscription({email:r}),i("You have subscribed 🥳","Congratulations!","#f4f4f4")}catch{i("Subscription already exists 😊","","#c6cdd1")}finally{n.target.reset(),localStorage.removeItem("subscribe-form-email")}}const t={email:""};(n=>{const r=JSON.parse(localStorage.getItem("subscribe-form-email"));if(r!==null)for(const o in r)r.hasOwnProperty(o)&&(n.elements[o].value=r[o],t[o]=r[o])})(y),y.addEventListener("input",n=>{const r=n.target.name,o=n.target.value.trim();t[r]=o,localStorage.setItem("subscribe-form-email",JSON.stringify(t))})}(()=>{let e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),s=document.querySelector(".js-close-menu"),n=[...document.getElementsByClassName("mobile-menu-link")],r=()=>{let a=t.getAttribute("aria-expanded")==="true";t.setAttribute("aria-expanded",!a),e.classList.toggle("is-open"),document.body.style.overflow=a?"auto":"hidden"};const o=()=>{window.matchMedia("(max-width: 767px)").matches?(t.addEventListener("click",r),s.addEventListener("click",r),n.forEach(a=>{a.addEventListener("click",r)})):(t.removeEventListener("click",r),s.removeEventListener("click",r),n.forEach(a=>{a.removeEventListener("click",r)}),e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1))};window.addEventListener("resize",o),o()})();const ce=()=>{document.querySelector(".preloader").classList.add("preloader--hidden")};document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{ce()},500)});let E=document.getElementById("myBtn");document.getElementsByClassName(".footer");E&&(E.onclick=function(){de()});window.onscroll=function(){le()};function le(){document.body.scrollTop>20||document.documentElement.scrollTop>20?E.style.display="block":E.style.display="none"}function de(){document.body.scrollTop=0,document.documentElement.scrollTop=0}
//# sourceMappingURL=main-CHI1YrEZ.js.map
