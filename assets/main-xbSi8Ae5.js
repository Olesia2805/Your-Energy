import{i as Q,a as j}from"./vendor-BRPE7r0H.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}})();document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".nav-link");let t=window.location.pathname.split("/").pop();t!=="index.html"&&t!=="favorites.html"&&(t="index.html"),e.forEach(o=>{o.getAttribute("href")===t&&o.classList.add("active")})});const v=document.querySelector(".js-header"),N=document.querySelector("main"),$="is-scrolling",J=e=>{e?v.classList.add($):v.classList.remove($)},Y=e=>{e?N.style.marginTop=`${v.offsetHeight}px`:N.style.marginTop=0},k=()=>{let e=window.scrollY>v.offsetTop;J(e),Y(e)};document.addEventListener("DOMContentLoaded",()=>{k(),document.addEventListener("scroll",k)});async function G(){try{return await(await fetch("https://your-energy.b.goit.study/api/quote")).json()}catch(e){return console.error("Error fetching the quote:",e),null}}function W(e){const t=new Date().toISOString().split("T")[0];localStorage.setItem("dailyQuote",JSON.stringify({quote:e,date:t}))}function z(){const e=localStorage.getItem("dailyQuote");return e?JSON.parse(e):null}async function X(){const e=z(),t=new Date().toISOString().split("T")[0];if(e&&e.date===t)return e.quote;{const o=await G();return o?(W(o),o):e?e.quote:null}}async function K(){const e=await X();if(e){const t=e.quote,o=e.author;document.querySelector(".quote").textContent=t,document.querySelector(".quote-author").textContent=o}}K();const c=(e,t,o,n)=>{Q.show({message:e,drag:!0,close:!1,timeout:5e3,position:"bottomRight",messageColor:"#2a2a2a",closeOnClick:!0,animateInside:!0,backgroundColor:o??"#f4f4f4",title:t??""})},x=()=>JSON.parse(localStorage.getItem("favorites"))||[];function V(e){if(!e._id){c("Exercise ID is missing.","Error ❌");return}const t=x();t.find(o=>o._id===e._id)?c("This exercise is already in your favorites.","Error ❌"):(t.push(e),localStorage.setItem("favorites",JSON.stringify(t)),c("Exercise added to favorites!","Success ✅"))}function B(e,t){if(!e){c("Exercise ID is missing.","Error ❌");return}const o=x();if(!o.find(n=>n._id===e))c("This exercise is not in your favorites.","Error ❌");else{const n=o.filter(s=>s._id!==e);localStorage.setItem("favorites",JSON.stringify(n)),c("Exercise removed from favorites!","Success ✅"),t&&t()}}const l="https://your-energy.b.goit.study/api",u=async(e,t,o)=>{const r=await fetch(e,{headers:{"Content-type":"application/json"},method:t,body:o});if(!r.ok)throw new Error(`Error: status: ${r.status}, ${r.statusText}`);return r.json()},Z={async getExercises(e){const t=new URLSearchParams(e),o=`${l}/exercises?${t}`;return await u(o)},async getExercisesId(e){const t=`${l}/exercises/${e}`;return await u(t)},async editExercisesIdRating(e,t){const o="PATCH",n=`${l}/exercises/${e}/rating`,s=JSON.stringify(t);return await u(n,o,s)},async getExercisesFilter(e){const t=new URLSearchParams(e),o=`${l}/filters?${t}`;return await u(o)},async getExercisesQuote(){const e=`${l}/quote`;return await u(e)},async addSubscription(e){const t="POST",o=`${l}/subscription`,n=JSON.stringify(e);return await u(o,t,n)}},A=j.create({baseURL:l,headers:{"Content-type":"application/json"}}),m={MUSCLES:"Muscles",BODY_PARTS:"Body parts",EQUIPMENT:"Equipment"},g={EXERCISE:"exercises",CATEGORY:"categories"},D=768;let b=m.MUSCLES,w=null;document.addEventListener("DOMContentLoaded",async()=>{if(document.getElementById("favorites"))I();else{const{categories:t,page:o,totalPages:n}=await C(m.MUSCLES);T(t),f(g.CATEGORY,o,n,m.MUSCLES),ee()}});const ee=()=>{const e=document.querySelectorAll(".filter-btn");e.forEach(t=>{t.addEventListener("click",async()=>{e.forEach(i=>i.classList.remove("active")),t.classList.add("active");const o=t.getAttribute("data-filter"),{categories:n,page:s,totalPages:r}=await C(o);T(n),f(g.CATEGORY,s,r,o)})})},C=async(e,t=1)=>{const o=window.innerWidth<D?9:12;try{const s=(await A.get("/filters",{params:{filter:e,page:t,limit:o}})).data;return s.results?{categories:s.results,page:Number(s.page),totalPages:Number(s.totalPages)}:{categories:[],page:1,totalPages:1}}catch(n){return console.error("Error fetching categories:",n),{categories:[],page:1,totalPages:1}}},q=async(e,t,o=1,n=null)=>{const s=window.innerWidth<D?8:10;try{const i=(await A.get("/exercises",{params:{page:o,limit:s,...e===m.MUSCLES&&{muscles:t},...e===m.BODY_PARTS&&{bodypart:t},...e===m.EQUIPMENT&&{equipment:t},...n&&{keyword:n}}})).data;return i.results?{exercises:i.results,page:Number(i.page),totalPages:Number(i.totalPages)}:{exercises:[],page:1,totalPages:1}}catch(r){return console.error("Error fetching categories:",r),{exercises:[],page:1,totalPages:1}}},T=e=>{const t=document.querySelector(".exercises-grid");if(!t)return;if(t.innerHTML="",R(!1),_(!1),e.length===0){t.innerHTML="<p>No categories found.</p>";return}const o=document.createDocumentFragment();e.forEach(n=>{const s=document.createElement("div");s.classList.add("category-card"),s.innerHTML=`
      <img src="${n.imgURL}" alt="${n.name}" />
      <h3>${n.name}</h3>
      <p>${n.filter}</p>
    `,s.addEventListener("click",async()=>{const{exercises:r,page:i,totalPages:a}=await q(n.filter,n.name);b=n.filter,w=n.name,h(r),f(g.EXERCISE,i,a,n.filter)}),o.appendChild(s)}),t.appendChild(o)},te=e=>`
  <div class="rating">
    <span>
      ${e}
    </span>
    <svg class="icon-star">
      <use href="./img/icons/icons.svg#icon-star"></use>
    </svg>
  </div>
`,oe=e=>`
  <button class="trash-btn" data-id="${e}">
    <svg width="16px" height="16px">
      <use href="./img/icons/icons.svg#icon-trash"></use>
    </svg>
  </button>
`,h=(e,t=!1)=>{const o=document.querySelector(".exercises-grid");if(!o)return;if(o.innerHTML="",R(!0),_(!0,w),e.length===0){o.innerHTML="<p>No exercises found.</p>";return}const n=e.map(({bodyPart:s,burnedCalories:r,target:i,name:a,rating:d,_id:p})=>`
    <div class="exercise-card">
      <div class="exercise-card-header">
        <div class="label">WORKOUT</div>
        ${t?oe(p):te(d)}
        <button class="start-btn" data-id="${p}">
          Start
          <svg class="icon-arrow">
            <use href="./img/icons/icons.svg#icon-arrow-start"></use>
          </svg>
        </button>
      </div>
      <div class="title-wrapper">
        <div class="icon-run-exercises">
          <svg class="icon-run">
            <use href="./img/icons/icons.svg#icon-run"></use>
          </svg>
        </div>
        <div class="title">${a}</div>
      </div>
      <div class="details">
        <div class="details-item">
          Burned calories: <span>${r}</span>
        </div>
        <div class="details-item">
          Body part: <span>${s}</span>
        </div>
        <div class="details-item">
          Target:<span>${i}</span>
        </div>
      </div>
    </div>
  `).join(" ");o.insertAdjacentHTML("afterbegin",n),document.querySelectorAll(".exercise-card .start-btn").forEach(s=>{const r=s.getAttribute("data-id");console.log(`Exercise ID: ${r}`),r?s.addEventListener("click",()=>{se(r)}):console.error("Exercise ID is missing.")}),document.querySelectorAll(".trash-btn").forEach(s=>{const r=s.getAttribute("data-id");console.log(`Exercise ID: ${r}`),console.log("card",s),console.log("exerciseId",r),r?s.addEventListener("click",()=>{B(r,I)}):console.error("Exercise ID is missing.")})},f=(e,t,o,n)=>{const s=document.getElementById("pagination");if(!s||(s.innerHTML="",o<=1))return;const r=document.createDocumentFragment();for(let i=1;i<=o;i++){const a=document.createElement("div");a.innerText=i,a.className=i===t?"page current":"page",a.addEventListener("click",async()=>{if(e===g.CATEGORY){const{categories:d}=await C(n,i);T(d),f(e,i,o,n)}else{const{exercises:d}=await q(n,null,i);h(d),f(e,i,o,n)}}),r.appendChild(a)}s.appendChild(r)},I=()=>{const e=document.querySelector(".exercises-grid"),t=x();t.length>0?h(t,!0):e.innerHTML=`<p class="empty-favorites">It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.</p>`},R=e=>{const t=document.getElementById("search-form");t&&(t.style.display=e?"block":"none",e?t.addEventListener("submit",F):t.removeEventListener("submit",F))},F=async e=>{e.preventDefault();const t=document.getElementById("search-input"),o=t.value.trim();if(t.value="",o==="")return;const{exercises:n}=await q(b,w,1,o);h(n),f(g.EXERCISE,1,1,b)},_=(e,t="")=>{const o=document.querySelector(".exercises-header-span"),n=document.querySelector(".exercises-subcategory");!o||!n||(o.style.display=e?"flex":"none",n.textContent=t)};function se(e,t){console.log(`Fetching details for exercise ID: ${e}`),fetch(`https://your-energy.b.goit.study/api/exercises/${e}`).then(o=>{if(!o.ok)throw new Error("Failed to fetch exercise details.");return o.json()}).then(o=>{ne(o),re()}).catch(o=>{console.error("Error fetching exercise details:",o)})}function ne(e){const t=document.querySelector(".modal-title"),o=document.querySelector(".modal-image"),n=document.querySelector(".modal-target"),s=document.querySelector(".modal-bodyPart"),r=document.querySelector(".modal-equipment"),i=document.querySelector(".modal-calories"),a=document.querySelector(".modal__description");document.querySelector(".modal__block").setAttribute("data-id",e._id),t.textContent=e.name||"No name available",o.src=e.gifUrl||"",o.alt=e.name||"Exercise image",n.textContent=e.target||"No target available",s.textContent=e.bodyPart||"No body part available",r.textContent=e.equipment||"No equipment available",i.textContent=`${e.burnedCalories||"N/A"}`,a.textContent=e.description||"No description available";const p=document.querySelector(".modal__btns"),O=(JSON.parse(localStorage.getItem("favorites"))||[]).find(S=>S._id===e._id);p.innerHTML=`
    <button class="favorites-btn">${O?"Remove":"Add to favorites"}</button>
<!--    <button class="rating-btn">Give a rating</button>-->
  `;const H=document.querySelector(".favorites-btn"),U=document.getElementById("favorites");H.addEventListener("click",function(){if(O){const S=U?I:void 0;B(e._id,S)}else V(e);E()})}function re(){const e=document.querySelector(".modal");e?(e.classList.add("is-visible"),console.log("Modal is now visible.")):console.error("Modal element is missing.")}function E(){const e=document.querySelector(".modal");e?(e.classList.remove("is-visible"),console.log("Modal is now hidden.")):console.error("Modal element is missing.")}const P=document.querySelector(".modal-close");P&&P.addEventListener("click",E);document.addEventListener("click",e=>{const t=document.querySelector(".modal"),o=document.querySelector(".modal__block");t&&o&&t.classList.contains("is-visible")&&!o.contains(e.target)&&E()});document.addEventListener("keydown",e=>{e.key==="Escape"&&E()});const M=document.querySelector(".subscribe-form");M.addEventListener("submit",ie);async function ie(e){e.preventDefault();const t=e.target.elements.email.value;try{await Z.addSubscription({email:t}),c("You have subscribed 🥳","Congratulations!","#f4f4f4")}catch{c("Subscription already exists 😊","","#c6cdd1")}finally{e.target.reset(),localStorage.removeItem("subscribe-form-email")}}const L={email:""},ae=e=>{const t=JSON.parse(localStorage.getItem("subscribe-form-email"));if(t!==null)for(const o in t)t.hasOwnProperty(o)&&(e.elements[o].value=t[o],L[o]=t[o])};ae(M);M.addEventListener("input",e=>{const t=e.target.name,o=e.target.value.trim();L[t]=o,localStorage.setItem("subscribe-form-email",JSON.stringify(L))});(()=>{let e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),o=document.querySelector(".js-close-menu"),n=[...document.getElementsByClassName("mobile-menu-link")],s=()=>{let i=t.getAttribute("aria-expanded")==="true";t.setAttribute("aria-expanded",!i),e.classList.toggle("is-open"),document.body.style.overflow=i?"auto":"hidden"};const r=()=>{window.matchMedia("(max-width: 767px)").matches?(t.addEventListener("click",s),o.addEventListener("click",s),n.forEach(i=>{i.addEventListener("click",s)})):(t.removeEventListener("click",s),o.removeEventListener("click",s),n.forEach(i=>{i.removeEventListener("click",s)}),e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1))};window.addEventListener("resize",r),r()})();const ce=()=>{document.querySelector(".preloader").classList.add("preloader--hidden")};document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{ce()},500)});let y=document.getElementById("myBtn");document.getElementsByClassName(".footer");y&&(y.onclick=function(){de()});window.onscroll=function(){le()};function le(){document.body.scrollTop>20||document.documentElement.scrollTop>20?y.style.display="block":y.style.display="none"}function de(){document.body.scrollTop=0,document.documentElement.scrollTop=0}
//# sourceMappingURL=main-xbSi8Ae5.js.map
